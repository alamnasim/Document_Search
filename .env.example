# AWS Credentials
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_REGION=us-east-1

# S3 Bucket Configuration
S3_BUCKET_NAME=your-bucket-name
S3_BUCKET_ARN=arn:aws:s3:::your-bucket-name


# Elasticsearch Configuration
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_password_here
ELASTICSEARCH_INDEX=documents_v1

# LLM Configuration (Vision LM for OCR)
# Options: granite-docling-258M-f16, qwen2.5-vl-3b-instruct
LLM_MODEL_NAME=granite-docling-258M-f16
LLM_ENDPOINT=http://localhost:8087/v1/chat/completions
LLM_API_KEY=

# OCR Configuration
# Set to false to use PaddleOCR (fast, port 8088)
# Set to true to use Vision LM (accurate, port 8087)
USE_LLM_FOR_OCR=false
OCR_ENDPOINT=http://localhost
OCR_PORT=8088

# Embedding Model Configuration
EMBEDDING_MODEL_NAME=bge-small-en-v1.5
EMBEDDING_ENDPOINT=http://localhost:8001/embed

# SQS Queue Configuration (for automatic S3 event processing)
# Set SQS_ENABLED=false to disable queue processing and only ingest from S3
# Set SQS_ENABLED=true with valid URL for real-time SQS monitoring
SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/your-queue-name
SQS_ENABLED=false

# First-run configuration
# Set FIRST_RUN_FULL_INGEST=true for initial ingestion (processes all files in S3)
# Set FIRST_RUN_FULL_INGEST=false after first ingestion (only processes new/updated files from SQS)
FIRST_RUN_FULL_INGEST=true

# ============================================================================
# DELETION SYNCHRONIZATION (Hybrid Approach)
# ============================================================================
# Enable background sync service (recommended)
# This runs a periodic cleanup job to remove orphaned documents from Elasticsearch
# Works together with SQS deletion events for 100% reliability
ENABLE_BACKGROUND_SYNC=true

# Sync interval in hours (default: 6 hours)
# Lower values = more frequent checks, higher values = less overhead
# Recommended: 6 for active systems, 12-24 for stable systems
SYNC_INTERVAL_HOURS=6

# IMPORTANT: For deletion sync to work properly:
# 1. Set SQS_ENABLED=true (for real-time deletion via SQS)
# 2. Configure S3 bucket to send both ObjectCreated:* and ObjectRemoved:* events to SQS
# 3. Keep ENABLE_BACKGROUND_SYNC=true (safety net for missed deletions)
# See docs/DELETION_SYNC.md for complete setup guide
